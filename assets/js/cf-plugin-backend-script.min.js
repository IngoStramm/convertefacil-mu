jQuery(function(a){var b=function(){a(".number").mask("#####0.00"),a(".money").mask("R$###.###.##0,00"),a(".percent").mask("##0,00%",{reverse:!0})},c=function(){a(".normalize-ul").each(function(){var b=a(this),c=b.attr("data-mirror");c=a("."+c),c.length&&b.find("li").each(function(b){var d=a(this),e=c.find("li").eq(b),f=d.height();e.height(f)})})},d=function(){a(".cf-radio-input").change(function(){var b=a(this).attr("data-input");a('input[name="'+b+'"').focus().select(),g()})},e=function(){a(".cf-radio-list-item-input").keyup(function(){var b=a(this).val();""!==b&&g()}).blur(function(){var b=a(this).val(),c=a(this).attr("data-default-value");""===b&&(a(this).val(c),b=c,g())})},f=function(){a(".cf-meta-list-item-input").keyup(function(){a(this).val()}).blur(function(){var b=a(this).val(),c=a(this).attr("data-default-value");""===b&&(a(this).val(c),b=c)})},g=function(){var b=0;a(".cf-radio-input:checked").each(function(){var c=a(this).attr("data-input"),d=parseFloat(a('input[name="'+c+'"').val());b+=d}),a(".cf-total-value-input").val(l(b))},h=function(){a(".cf-save-itens-calc").click(function(b){b.preventDefault();var c=[],d=a(".cf-loading"),e=a(".cf-save-return-message");e.hide().empty(),d.show(),a(".cf-box").each(function(){var b=a(this),d=b.attr("data-option"),e=b.find(".cf-radio-input:checked");if(e.length>0){var f=e.attr("data-index"),g=e.attr("data-input"),h=parseFloat(a('input[name="'+g+'"').val());c.push({option:d,data_index:f,val:h})}}),a.ajax({type:"POST",url:ajaxurl,data:{teste:"Opa",action:"save_itens_calc",options:c},dataType:"json",success:function(a){e.text(a.data.message).show()},complete:function(){d.fadeOut()}})})},i=function(){a(".cf-save-metas").click(function(b){b.preventDefault();var c=a(".cf-valor-medio-por-venda").val(),d=a(".cf-valor-medio-embalagem").val(),e=a(".cf-porcentagem-imposto-renda").val(),f=a(".cf-porcentagem-intermediadores").val(),g=a(".cf-lucro-desejado-mes").val(),h={option_1:{option:"valor_medio_por_venda",val:c},option_2:{option:"valor_medio_embalagem",val:d},option_3:{option:"pc_imposto_renda",val:e},option_4:{option:"pc_intermediadores",val:f},option_5:{option:"lucro_desejado_mes",val:g}},i=a(".cf-loading"),k=a(".cf-save-return-message");k.hide().empty(),i.show(),a.ajax({type:"POST",url:ajaxurl,data:{action:"save_itens_metas",options:h},dataType:"json",success:function(a){j(),k.text(a.data.message).show()},complete:function(){i.fadeOut()}})})},j=function(){var b=0,c=(parseFloat(a(".total-custo-inicial").val()),parseFloat(a(".total-custo-fixo-mensal").val())),d=parseFloat(a(".cf-valor-medio-embalagem").val()),e=parseFloat(a(".cf-valor-medio-por-venda").val()),f=d/e;f=k(f),f*=100;var g=parseFloat(a(".cf-porcentagem-imposto-renda").val()),h=parseFloat(a(".cf-porcentagem-intermediadores").val());b=h+g+f,b=k(b),pc_lucro_total=100-b,pc_lucro_total=k(pc_lucro_total);var i=parseFloat(a(".cf-lucro-desejado-mes").val());valor_lucro_total=i+c,valor_lucro_total=k(valor_lucro_total),valor_pc_total=100*valor_lucro_total/pc_lucro_total,valor_pc_total=k(valor_pc_total),valor_pc_custos_total=valor_pc_total-valor_lucro_total,valor_pc_custos_total=k(valor_pc_custos_total);var j=a(".cf-meta-venda"),n=valor_pc_total*(i+c)/(valor_pc_total-valor_pc_custos_total);n=k(n),n=isNaN(n)?0:n,j.val(l(n));var o=a(".cf-indice-lucratividade"),p=i/n;p=k(p),p*=100,p=isNaN(p)?0:p,o.val(m(p));var q=n-valor_pc_custos_total,r=q/n*100;r=k(r);var s=a(".cf-meta-minima"),t=c/(r/100);t=k(t),t=isNaN(t)?0:t,s.val(l(t))},k=function(a){return Math.round(100*(a+1e-5))/100},l=function(a){return a=a.toFixed(2),a=a.toString().replace(/\D/g,""),a=a.toString().replace(/(\d)(\d{8})$/,"$1.$2"),a=a.toString().replace(/(\d)(\d{5})$/,"$1.$2"),a=a.toString().replace(/(\d)(\d{2})$/,"$1,$2"),"R$ "+a},m=function(a){return a=a.toFixed(2),a=a.toString().replace(/\D/g,""),a=a.toString().replace(/(\d)(\d{2})$/,"$1,$2"),a+" %"},n=function(){a(".page-title-action").each(function(){var b=a(this);"Adicionar existente"===b.text()&&b.text("Adicionar novo")})};a(document).ready(function(){c(),b(),d(),e(),f(),h(),i(),j(),n()}),a(window).resize(function(){c()})});