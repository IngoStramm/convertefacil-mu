jQuery(function(a){var b=function(){a(".number").mask("#####0.00"),a(".money").mask("R$###.###.##0,00"),a(".percent").mask("##0,00%",{reverse:!0})},c=function(){a(".normalize-ul").each(function(){var b=a(this),c=b.attr("data-mirror");c=a("."+c),c.length&&b.find("li").each(function(b){var d=a(this),e=c.find("li").eq(b),f=d.height();e.height(f)})})},d=function(){a(".cf-radio-input").change(function(){var b=a(this).attr("data-input");a('input[name="'+b+'"').focus().select(),g()})},e=function(){a(".cf-radio-list-item-input").keyup(function(){var b=a(this).val();""!==b&&g()}).blur(function(){var b=a(this).val(),c=a(this).attr("data-default-value");""===b&&(a(this).val(c),b=c,g())})},f=function(){a(".cf-meta-list-item-input").keyup(function(){a(this).val()}).blur(function(){var b=a(this).val(),c=a(this).attr("data-default-value");""===b&&(a(this).val(c),b=c)})},g=function(){var b=0;a(".cf-radio-input:checked").each(function(){var c=a(this).attr("data-input"),d=parseFloat(a('input[name="'+c+'"').val());b+=d}),a(".cf-total-value-input").val(b)},h=function(){a(".cf-save-itens-calc").click(function(b){b.preventDefault();var c=[],d=a(".cf-loading"),e=a(".cf-save-return-message");e.hide().empty(),d.show(),a(".cf-box").each(function(){var b=a(this),d=b.attr("data-option"),e=b.find(".cf-radio-input:checked");if(e.length>0){var f=e.attr("data-index"),g=e.attr("data-input"),h=parseFloat(a('input[name="'+g+'"').val());c.push({option:d,data_index:f,val:h})}}),a.ajax({type:"POST",url:ajaxurl,data:{teste:"Opa",action:"save_itens_calc",options:c},dataType:"json",success:function(a){e.text(a.data.message).show()},complete:function(){d.fadeOut()}})})},i=function(){a(".cf-save-metas").click(function(b){b.preventDefault();var c=a(".cf-valor-medio-por-venda").val(),d=a(".cf-valor-medio-embalagem").val(),e=a(".cf-porcentagem-imposto-renda").val(),f=a(".cf-porcentagem-intermediadores").val(),g=a(".cf-lucro-desejado-mes").val(),h={option_1:{option:"valor_medio_por_venda",val:c},option_2:{option:"valor_medio_embalagem",val:d},option_3:{option:"pc_imposto_renda",val:e},option_4:{option:"pc_intermediadores",val:f},option_5:{option:"lucro_desejado_mes",val:g}},i=a(".cf-loading"),k=a(".cf-save-return-message");k.hide().empty(),i.show(),a.ajax({type:"POST",url:ajaxurl,data:{teste:"Opa",action:"save_itens_metas",options:h},dataType:"json",success:function(a){j(),k.text(a.data.message).show()},complete:function(){i.fadeOut()}})})},j=function(){var b=0,c=(parseFloat(a(".total-custo-inicial").val()),parseFloat(a(".total-custo-fixo-mensal").val())),d=parseFloat(a(".cf-valor-medio-embalagem").val()),e=parseFloat(a(".cf-valor-medio-por-venda").val()),f=d/e,g=parseFloat(a(".cf-porcentagem-imposto-renda").val()),h=parseFloat(a(".cf-porcentagem-intermediadores").val());b=h+g+f,pc_lucro_total=100-b;var i=parseFloat(a(".cf-lucro-desejado-mes").val());valor_lucro_total=i+c,valor_pc_total=100*valor_lucro_total/pc_lucro_total;var j=a(".cf-meta-venda"),m=valor_pc_total*(i+c)/(valor_pc_total-b);m=isNaN(m)?0:m,j.val(k(m));var n=a(".cf-indice-lucratividade"),o=i/j.val();o=isNaN(o)?0:o,n.val(l(o));var p=j.val()-j.val()*b,q=p-j.val(),r=a(".cf-meta-minima"),s=c-q;s=isNaN(s)?0:s,r.val(k(s))},k=function(a){return(Math.round(a*Math.pow(10,2))/Math.pow(10,2)).toFixed(2)},l=function(a){return Math.ceil(a)};a(document).ready(function(){c(),b(),d(),e(),f(),h(),i(),j()}),a(window).resize(function(){c()})});